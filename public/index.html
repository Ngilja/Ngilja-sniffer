<!-- SECTION CODE DE PARRAGE (√† ajouter dans index.html) -->
<div class="pairing-section">
    <h2><i class="fas fa-key"></i> Connexion par Code</h2>
    <div class="pairing-card">
        <p>Entrez votre num√©ro WhatsApp pour recevoir un code</p>
        <div class="input-group">
            <input type="text" id="phoneNumberPair" placeholder="Ex: 33612345678" class="form-input">
            <select id="countryCode" class="form-select">
                <option value="33">France (+33)</option>
                <option value="32">Belgique (+32)</option>
                <option value="41">Suisse (+41)</option>
                <option value="221">S√©n√©gal (+221)</option>
                <option value="225">C√¥te d'Ivoire (+225)</option>
                <option value="227">Niger (+227)</option>
                <option value="229">B√©nin (+229)</option>
                <option value="237">Cameroun (+237)</option>
                <option value="242">Congo (+242)</option>
                <option value="243">RDC (+243)</option>
            </select>
        </div>
        <button onclick="requestPairingCode()" class="pairing-btn" style="background: linear-gradient(135deg, #FF0000, #00FF00);">
            <i class="fas fa-mobile-alt"></i> Obtenir le code
        </button>
        <div id="pairingCodeDisplay" class="pairing-code" style="display: none;">
            <h3>Votre code :</h3>
            <div class="code-box" id="codeBox">------</div>
            <p>Entrez ce code dans WhatsApp :</p>
            <p class="instructions">WhatsApp ‚Üí Appareils connect√©s ‚Üí Connecter avec code</p>
        </div>
    </div>
</div>

<!-- Ajoutez aussi une bascule entre QR et Code -->
<div class="connection-toggle">
    <button id="showQrBtn" class="toggle-connection active" onclick="showQrMode()">
        <i class="fas fa-qrcode"></i> QR Code
    </button>
    <button id="showPairBtn" class="toggle-connection" onclick="showPairMode()">
        <i class="fas fa-key"></i> Code
    </button>
</div><!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ELEXTERCORES FLEX - Dashboard WhatsApp Bot</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- ======================================== -->
        <!-- HEADER AVEC LE NOM DU BOT                -->
        <!-- ======================================== -->
        <header>
            <div class="logo-container">
                <div class="bot-avatar" id="botAvatar">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="logo-text">
                    <h1>‚ö° ELEXTERCORES <span class="flex">FLEX</span></h1>
                    <small>Bot WhatsApp par <span id="ownerName">√ëƒûƒÆƒªJ√É_√ëƒ™J</span></small>
                </div>
            </div>
            <div class="status-container">
                <div class="status" id="statusIndicator">
                    <span class="status-dot disconnected"></span>
                    <span id="statusText">D√©connect√©</span>
                </div>
                <div class="version">v<span id="versionText">1.0.0</span></div>
            </div>
        </header>

        <!-- ======================================== -->
        <!-- SECTION PRINCIPALE                        -->
        <!-- ======================================== -->
        <main>
            <!-- SECTION QR CODE (affich√©e quand d√©connect√©) -->
            <div class="qr-section" id="qrSection">
                <div class="qr-card">
                    <h2><i class="fas fa-qrcode"></i> Scanner le QR Code</h2>
                    <div class="qr-container" id="qrContainer">
                        <div class="qr-placeholder" id="qrPlaceholder">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>G√©n√©ration du QR code...</p>
                        </div>
                        <img id="qrCode" src="" alt="QR Code WhatsApp" style="display: none;">
                    </div>
                    <div class="qr-instructions">
                        <p><i class="fas fa-phone"></i> 1. Ouvrez WhatsApp sur votre t√©l√©phone</p>
                        <p><i class="fas fa-cog"></i> 2. Menu ‚Üí Appareils connect√©s</p>
                        <p><i class="fas fa-qrcode"></i> 3. Scannez ce QR code</p>
                    </div>
                    <div class="qr-footer">
                        <p class="bot-name">ü§ñ <span id="qrBotName">ELEXTERCORES FLEX</span></p>
                    </div>
                </div>
            </div>

            <!-- DASHBOARD (affich√© quand connect√©) -->
            <div class="dashboard" id="dashboard" style="display: none;">
                <!-- Barre d'information du bot -->
                <div class="bot-info-bar">
                    <div class="bot-info-item">
                        <i class="fas fa-circle" style="color: #00FF00;"></i>
                        <span id="botNumber">Chargement...</span>
                    </div>
                    <div class="bot-info-item">
                        <i class="fas fa-user"></i>
                        <span id="botOwner">√ëƒûƒÆƒªJ√É_√ëƒ™J</span>
                    </div>
                    <div class="bot-info-item">
                        <i class="fas fa-clock"></i>
                        <span id="botUptime">0h 0m</span>
                    </div>
                </div>

                <!-- Cartes de statistiques -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #FF0000, #8B0000);">
                            <i class="fas fa-message"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="totalMessages">0</span>
                            <span class="stat-label">Messages re√ßus</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #00FF00, #008000);">
                            <i class="fas fa-terminal"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="totalCommands">0</span>
                            <span class="stat-label">Commandes ex√©cut√©es</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #FFA500, #FF8C00);">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="totalGroups">0</span>
                            <span class="stat-label">Groupes</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #FF0000, #00FF00);">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="botStatus">Actif</span>
                            <span class="stat-label">Statut</span>
                        </div>
                    </div>
                </div>

                <!-- Commandes rapides -->
                <div class="quick-commands">
                    <h3><i class="fas fa-bolt"></i> Commandes Rapides</h3>
                    <div class="command-buttons">
                        <button class="cmd-btn" onclick="sendQuickCommand('.ping')" style="border-color: #FF0000;">
                            <i class="fas fa-heart-pulse"></i> .ping
                        </button>
                        <button class="cmd-btn" onclick="sendQuickCommand('.alive')" style="border-color: #00FF00;">
                            <i class="fas fa-check-circle"></i> .alive
                        </button>
                        <button class="cmd-btn" onclick="sendQuickCommand('.system')" style="border-color: #FFA500;">
                            <i class="fas fa-server"></i> .system
                        </button>
                        <button class="cmd-btn" onclick="sendQuickCommand('.sessions')" style="border-color: #FF69B4;">
                            <i class="fas fa-history"></i> .sessions
                        </button>
                        <button class="cmd-btn" onclick="sendQuickCommand('.help')" style="border-color: #4169E1;">
                            <i class="fas fa-question-circle"></i> .help
                        </button>
                        <button class="cmd-btn" onclick="sendQuickCommand('.st')" style="border-color: #800080;">
                            <i class="fas fa-gear"></i> .st
                        </button>
                    </div>
                </div>

                <!-- Envoi de message -->
                <div class="message-sender">
                    <h3><i class="fas fa-paper-plane"></i> Envoyer un Message</h3>
                    <div class="message-form">
                        <div class="input-group">
                            <input type="text" id="phoneNumber" placeholder="Num√©ro (ex: 33612345678)" class="form-input">
                            <select id="messageType" class="form-select">
                                <option value="individual">Message priv√©</option>
                                <option value="group">Groupe</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <textarea id="messageText" placeholder="Votre message..." rows="3" class="form-input"></textarea>
                            <button onclick="sendMessage()" class="send-btn" style="background: linear-gradient(135deg, #FF0000, #00FF00);">
                                <i class="fas fa-send"></i> Envoyer
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Logs des messages -->
                <div class="logs-section">
                    <div class="logs-header">
                        <h3><i class="fas fa-list"></i> Messages en direct</h3>
                        <div class="logs-controls">
                            <button onclick="clearLogs()" class="clear-btn">
                                <i class="fas fa-trash"></i>
                            </button>
                            <button onclick="toggleLogs()" class="toggle-btn">
                                <i class="fas fa-chevron-up" id="toggleIcon"></i>
                            </button>
                        </div>
                    </div>
                    <div class="log-container" id="logContainer">
                        <div class="log-placeholder">
                            <i class="fas fa-inbox"></i>
                            <p>Aucun message pour le moment</p>
                        </div>
                    </div>
                </div>

                <!-- Actions du bot -->
                <div class="bot-actions">
                    <button class="action-btn danger" onclick="logoutBot()">
                        <i class="fas fa-power-off"></i> D√©connecter le bot
                    </button>
                    <button class="action-btn" onclick="refreshStatus()">
                        <i class="fas fa-sync-alt"></i> Actualiser
                    </button>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer>
            <p>¬© 2024 <span style="color: #FF0000;">ELEXTERCORES</span> <span style="color: #00FF00;">FLEX</span> - Cr√©√© par √ëƒûƒÆƒªJ√É_√ëƒ™J avec ‚ù§Ô∏è</p>
            <p class="footer-small">Version 1.0.0 - Tous droits r√©serv√©s</p>
        </footer>
    </div>

    <!-- Template pour les logs -->
    <template id="logTemplate">
        <div class="log-item">
            <div class="log-time"></div>
            <div class="log-content">
                <div class="log-from"></div>
                <div class="log-text"></div>
            </div>
        </div>
    </template>

    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>
</html>